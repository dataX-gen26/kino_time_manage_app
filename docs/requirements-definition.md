# 予実管理AIアシスタントアプリ 要件定義書

- **文書バージョン**: 1.0
- **作成日**: 2025年6月29日

## 1\. 概要

### 1.1. アプリの目的

Googleカレンダーの「予定」と実際の「行動（実績）」を比較・記録することで、時間の使い方を可視化する。さらに、記録された実績データを多角的に分析し、AIによる客観的なフィードバックも活用することで、ユーザーの生産性向上や計画性の改善を強力にサポートすることを目的とする。

### 1.2. 対象ユーザー

- 日々のタスク管理や時間管理に課題を感じているビジネスパーソンや学生
- 自身の時間の使い方をカテゴリ別に把握し、最適化したい方
- データに基づいた客観的な振り返りを通じて、継続的に生産性を高めたい方

## 2\. 機能要件

アプリケーションが提供する具体的な機能を定義する。

| 大項目                   | 機能                                                     | 詳細説明                                                                                                                                                                                                                                                                                                     | 優先度   |
| :----------------------- | :------------------------------------------------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :------- |
| **ユーザー認証**         | Googleアカウントでのログイン                             | 安全な認証方式（OAuth 2.0）を用いてGoogleアカウントでログイン・ログアウトできる。バックエンドで認証情報を管理し、複数デバイス間でのデータ同期を可能にする。                                                                                                                                                  | **必須** |
| **Googleカレンダー連携** | 予定のインポートと表示                                   | ログインユーザーのGoogleカレンダーから指定した日付の予定を読み込み、画面左側の「予定」欄に時間軸に合わせて表示する。                                                                                                                                                                                         | **必須** |
| **UIとデータ表示**       | カレンダーUI                                             | 時間軸（0時〜24時）を持つグリッドUIを採用し、「予定（Plan）」と「実績（Actual）」の2列で構成する。                                                                                                                                                                                                           | **必須** |
|                          | 日付ナビゲーション                                       | ・「\<」「\>」ボタンで1日ずつ移動できる。\<br\>・「今日」ボタンで現在の日付に戻れる。\<br\>・日付ピッカーで任意の日付にジャンプできる。                                                                                                                                                                      | **必須** |
| **実績管理**             | **実績のカテゴリ分類**                                   | **実績を記録・編集する際にカテゴリ（例：仕事、会議、学習、休憩、プライベートなど）を設定できる。カテゴリはユーザーが自由に作成・編集可能。**                                                                                                                                                                 | **必須** |
|                          | 実績の入力方法①\<br\>（ドラッグ＆ドロップ）              | 右側の「実績」欄の任意の時間帯をマウスでドラッグし、新規の実績ブロックを作成できる。詳細入力モーダルで内容、時間、**カテゴリ**、問題の有無を入力する。                                                                                                                                                       | **必須** |
|                          | 実績の入力方法②\<br\>（15分単位での反映）                | 「予定」ブロック内に、15分単位で区切られた実績記録ボタンを設置する。クリックでその15分間の予定が「実績」欄にコピーされる。                                                                                                                                                                                   | **必須** |
|                          | 実績の編集と削除                                         | 「実績」ブロックの編集ボタンを押すことで、内容・時間・**カテゴリ**・問題の有無を修正できる。モーダル内で削除も可能。                                                                                                                                                                                         | **必須** |
|                          | 問題フラグ                                               | 実績に「問題あり」（予定外のタスク、中断など）のフラグを立てられる。フラグが立った実績は、グラフ分析でも活用される。                                                                                                                                                                                         | **必須** |
| **AI分析機能**           | AIによる1日の振り返り                                    | 「今日の振り返り(AI)」ボタンで、その日の「予定」と「実績（カテゴリ情報含む）」をGemini APIに送信し、AIが生産性に関するフィードバックと翌日のアクションプランを提案する。                                                                                                                                     | 推奨     |
| **分析・レポート機能**   | **ダッシュボード**                                       | **日次・週次・月次で切り替え可能な分析ダッシュボードを設ける。以下のグラフで時間の使い方を多角的に可視化する。**                                                                                                                                                                                             | **必須** |
|                          | **①カテゴリ別時間配分**\<br\>（円グラフ/ドーナツグラフ） | **指定した期間（日/週/月）において、どのカテゴリにどれだけの時間を使ったかを割合で表示する。「仕事」と「プライベート」のバランスや、「学習」時間の確保ができているかなどを一目で把握できる。**                                                                                                               | **必須** |
|                          | **②日別活動時間の推移**\<br\>（積み上げ棒グラフ）        | **週次・月次表示の際に使用。各日の総活動時間を棒グラフで示し、その内訳をカテゴリ別の色で表現する。曜日ごとの活動パターンの癖や、週全体の時間配分の変化を追跡できる。**                                                                                                                                       | **必須** |
|                          | **③生産性指標のトレンド**\<br\>（折れ線グラフ）          | **週次・月次表示の際に使用。以下の指標の推移を線で表示する。\<br\>・「生産時間」（例：「仕事」「学習」カテゴリの合計時間）\<br\>・「非生産時間」（例：「休憩」「浪費」カテゴリの合計時間）\<br\>・「問題あり」フラグが立った時間の合計\<br\>これにより、生産性のトレンドや改善の進捗を定量的に確認できる。** | 推奨     |
|                          | **④予定 vs 実績の比較**\<br\>（棒グラフ）                | **週次・月次表示の際に使用。各日ごとに「Googleカレンダーで計画した総時間」と「実際に productive なカテゴリ（仕事・学習など）で活動した総時間」を並べて表示。計画と実行のギャップを分析し、計画の精度向上に役立てる。**                                                                                       | 任意     |

## 3\. 非機能要件

アプリケーションの品質や制約に関する要件を定義する。

| 項目                 | 内容                                                                                                                                                                                                                                                                                                                               |
| :------------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **アーキテクチャ**   | フロントエンドとバックエンドを分離した構成とする。バックエンドはAPIサーバーとして機能し、データの永続化とビジネスロジックを担当する。                                                                                                                                                                                              |
| **技術スタック**     | **フロントエンド**: `Vue.js 3`, `bootstrap-vue-next` (UIコンポーネントライブラリ)\<br\>**バックエンド**: `Ruby on Rails` (APIモード)\<br\>**データベース**: `MySQL`\<br\>**インフラ/その他**: `AWS S3` (レポートのエクスポートファイルや将来的な画像アップロード機能の保存先として利用を想定), `Gemini API`, `Google Calendar API` |
| **セキュリティ**     | ・APIキーはサーバー側の環境変数として安全に管理する。\<br\>・パスワードなどの重要な認証情報は適切にハッシュ化してDBに保存する。\<br\>・SQLインジェクション、クロスサイトスクリプティング（XSS）などの一般的な脆弱性対策を講じる。                                                                                                  |
| **データストレージ** | ユーザーデータ、実績、カテゴリなどの構造化データは全て`MySQL`データベースに保存する。これにより、**複数デバイス間でのデータ同期**を実現する。`localStorage`は使用しない。                                                                                                                                                          |
| **パフォーマンス**   | ・グラフ表示のためのデータ集計処理は、バックエンドで効率的に行い、フロントエンドの表示遅延を最小限に抑える。\<br\>・データベースには適切なインデックスを設定し、クエリの応答速度を担保する。                                                                                                                                       |

---
